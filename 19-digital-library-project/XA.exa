GRAB 300

MARK LOOP
COPY F X
REPL REPL
TEST EOF
TJMP END
JUMP LOOP

MARK END
HALT

MARK REPL
LINK 800

MARK TRAVERSE
LINK 800
SUBI X 100 X
TEST X > 100
FJMP GETFILE
JUMP TRAVERSE

MARK GETFILE
ADDI X 200 X
GRAB X
REPL COPY
MODE
MARK LOOP1
COPY F M
TEST EOF
TJMP KILL
JUMP LOOP1

MARK KILL
COPY -1 M
HALT

MARK COPY
MAKE
MODE 
MARK  LOOP2
COPY M X
TEST X = -1
TJMP RETURN
COPY X F
JUMP LOOP2

MARK RETURN
LINK -1
JUMP RETURN
